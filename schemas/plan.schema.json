{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "AniVault Organization Plan Schema",
  "description": "Schema for organization plan files generated by AniVault",
  "required": ["timestamp", "source", "destination", "naming_schema", "conflict_resolution", "preserve_structure", "operations"],
  "properties": {
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp when the plan was generated"
    },
    "source": {
      "type": "string",
      "description": "Source directory path"
    },
    "destination": {
      "type": "string", 
      "description": "Destination directory path"
    },
    "naming_schema": {
      "type": "string",
      "description": "Naming schema template for organized files"
    },
    "conflict_resolution": {
      "type": "string",
      "enum": ["skip", "overwrite", "rename"],
      "description": "Strategy for handling file conflicts"
    },
    "preserve_structure": {
      "type": "boolean",
      "description": "Whether to preserve original directory structure"
    },
    "operations": {
      "type": "array",
      "description": "List of file operations to perform",
      "items": {
        "type": "object",
        "required": ["source", "destination", "action"],
        "properties": {
          "source": {
            "type": "string",
            "description": "Source file path"
          },
          "destination": {
            "type": "string",
            "description": "Destination file path"
          },
          "action": {
            "type": "string",
            "enum": ["move", "copy", "rename"],
            "description": "Type of operation to perform"
          },
          "metadata": {
            "type": "object",
            "description": "TMDB metadata associated with the file"
          }
        }
      }
    },
    "errors": {
      "type": "integer",
      "minimum": 0,
      "description": "Number of errors encountered during plan generation"
    }
  }
}